#cloud-config
envar:
  - http_proxy : proxy.cse.cuhk.edu.hk:8000
  - https_proxy : proxy.cse.cuhk.edu.hk:8000
  - no_proxy : cse.cuhk.edu.hk,.cse.cuhk.edu.hk,localhost
package_upgrade: true
packages:
  - os-core-dev
  - curl
runcmd:
  - [ sh, -xc, "echo $(date) ': hello cloudinit!'" ]
ssh_authorized_keys:
  - ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIP8lyVDmMwXauShyBZXBH5gXY6FpG2+UsAuAkHko0ALq jlhu@cse.cuhk.edu.hk
users:
  - name: jlhu
    gecos: Junliang HU
    groups: wheel
    passwd: $6$AjMeI/2iQTXH8upn$vNPnywP.AXCa8GJWgF1uka71boroiSAPn9yTLlLkJ0UU19wk97KFnqpjPXXOT50R41Mrs./Ojl0fkg0jPdHec/
    ssh-authorized-keys:
      - ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIP8lyVDmMwXauShyBZXBH5gXY6FpG2+UsAuAkHko0ALq jlhu@cse.cuhk.edu.hk
    sudo:
      - ALL=(ALL) NOPASSWD:ALL
    system: true
write_files:
  -
    content: |
        A test file
    path: /tmp/cloud-init-test-1
    owner: nobody.nogroup
    permissions: 0644
  -
    content: |
        Another test file
    path: /tmp/cloud-init-test-2
    owner: root.root
    permissions: 0600
  -
    content: |
        Yet another test file
    path: /tmp/cloud-init-test-3
    owner: jlhu.jlhu
    permissions: 0664

